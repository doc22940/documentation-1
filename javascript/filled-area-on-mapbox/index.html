
 

  
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h4 id="mapbox-access-token">
            <a class="no_underline plot-blue" href="#mapbox-access-token">Mapbox Access Token</a>
          </h4>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>To plot on Mapbox maps with Plotly you <code>may</code> need a Mapbox account and a public <a href="https://www.mapbox.com/studio">Mapbox Access Token</a>. See our <a href="/javascript/mapbox-layers/">Mapbox Map Layers</a> documentation for more information.
There are three different ways to show a filled area in a Mapbox map.
<ol>
    <li> Use a <a href="https://plot.ly/javascript/reference/#scattermapbox">scattermapbox</a> trace and set <code>fill</code> attribute to &#39;toself&#39; </li>
    <li> Use a Mapbox layout (i.e. by minimally using an empty Scattermapbox trace) and add a GeoJSON layer </li>
    <li> Use the <a href="https://plot.ly/javascript/mapbox-county-choropleth/">Choroplethmapbox</a> trace type </li>
</ol>
<h6> Filled <code>Scattermapbox</code> Trace </h6>
The following example uses <code>Scattermapbox</code> and sets <code>fill = &#39;toself&#39;</code>.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var data = [
	{
		type: &quot;scattermapbox&quot;,
		fill: &quot;toself&quot;,
		lon: [-74, -70, -70, -74],
		lat: [47, 47, 45, 45],
		marker: { size: 10, color: &quot;orange&quot; }
	}
];

var layout = {
	mapbox: {
		style: &quot;stamen-terrain&quot;,
		center: { lon: -73, lat: 46 },
		zoom: 5
	},
	showlegend: false,
	height: 450,
	width: 600
};

Plotly.newPlot(&quot;myDiv&quot;, data, layout);
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              <form style="margin-bottom: 35px; font-weight: 'Open Sans', sans-serif;" action="https://codepen.io/pen/define" method="POST" target="_blank">
                <input type="hidden" name="data" 
                  value="{&quot;title&quot;:&quot;Plotly.js Mapbox Access Token&quot;,&quot;html&quot;:&quot;&lt;head&gt;\n\t&lt;!-- Load plotly.js into the DOM --&gt;\n\t&lt;script src='https://cdn.plot.ly/plotly-latest.min.js'>&lt;/script&gt;\n&lt;/head>\n\n&lt;body&gt;\n\t&lt;div id='myDiv'&gt;&lt;!-- Plotly chart will be drawn inside this DIV --&gt;&lt;/div&gt;\n&lt;/body&gt;&quot;,&quot;js&quot;:&quot;var data = [\n\t{\n\t\ttype: \&quot;scattermapbox\&quot;,\n\t\tfill: \&quot;toself\&quot;,\n\t\tlon: [-74, -70, -70, -74],\n\t\tlat: [47, 47, 45, 45],\n\t\tmarker: { size: 10, color: \&quot;orange\&quot; }\n\t}\n];\n\nvar layout = {\n\tmapbox: {\n\t\tstyle: \&quot;stamen-terrain\&quot;,\n\t\tcenter: { lon: -73, lat: 46 },\n\t\tzoom: 5\n\t},\n\tshowlegend: false,\n\theight: 450,\n\twidth: 600\n};\n\nPlotly.newPlot(\&quot;myDiv\&quot;, data, layout);\n&quot;}">
                <input style=" float: right; background-color:#119dff; border-radius: 4px; color: white;" class="codepen-submit" type="submit" value="Try It On CodePen!">
              </form>
              
              <div style="max-width: 100%; margin: auto" id="myDiv_1"></div>
              <script>
                var data = [
	{
		type: "scattermapbox",
		fill: "toself",
		lon: [-74, -70, -70, -74],
		lat: [47, 47, 45, 45],
		marker: { size: 10, color: "orange" }
	}
];

var layout = {
	mapbox: {
		style: "stamen-terrain",
		center: { lon: -73, lat: 46 },
		zoom: 5
	},
	showlegend: false,
	height: 450,
	width: 600
};

Plotly.newPlot("myDiv_1", data, layout);

              </script>
            </div>
          
        </div>
    </div>

  
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h4 id="multiple-filled-areas-with-a-scattermapbox-trace">
            <a class="no_underline plot-blue" href="#multiple-filled-areas-with-a-scattermapbox-trace">Multiple Filled Areas with a Scattermapbox trace</a>
          </h4>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>The following example shows how to use <code>null</code> in your data to draw multiple filled areas. Such gaps in trace data are unconnected by default, but this can be controlled via the <a href="https://plot.ly/javascript/reference/#scattermapbox-connectgaps">connectgaps</a> attribute.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var data = [{
		type: &quot;scattermapbox&quot;,
		mode: &quot;lines&quot;,
		fill: &quot;toself&quot;,
		lon: [-10, -10, 8, 8, -10, null, 30, 30, 50, 50, 30, null, 100, 100, 80, 80, 100],
		lat: [30, 6, 6, 30, 30,    null, 20, 30, 30, 20, 20, null, 40, 50, 50, 40, 40]
		}]

var layout = {
	mapbox: {style: &quot;stamen-terrain&quot;, center: {lon: 40, lat: 20}, 'zoom': 1.5},
	showlegend: false,
	width:700, height: 700}

Plotly.newPlot(&quot;myDiv&quot;, data, layout)
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              <form style="margin-bottom: 35px; font-weight: 'Open Sans', sans-serif;" action="https://codepen.io/pen/define" method="POST" target="_blank">
                <input type="hidden" name="data" 
                  value="{&quot;title&quot;:&quot;Plotly.js Multiple Filled Areas with a Scattermapbox trace&quot;,&quot;html&quot;:&quot;&lt;head&gt;\n\t&lt;!-- Load plotly.js into the DOM --&gt;\n\t&lt;script src='https://cdn.plot.ly/plotly-latest.min.js'>&lt;/script&gt;\n&lt;/head>\n\n&lt;body&gt;\n\t&lt;div id='myDiv'&gt;&lt;!-- Plotly chart will be drawn inside this DIV --&gt;&lt;/div&gt;\n&lt;/body&gt;&quot;,&quot;js&quot;:&quot;var data = [{\n\t\ttype: \&quot;scattermapbox\&quot;,\n\t\tmode: \&quot;lines\&quot;,\n\t\tfill: \&quot;toself\&quot;,\n\t\tlon: [-10, -10, 8, 8, -10, null, 30, 30, 50, 50, 30, null, 100, 100, 80, 80, 100],\n\t\tlat: [30, 6, 6, 30, 30,    null, 20, 30, 30, 20, 20, null, 40, 50, 50, 40, 40]\n\t\t}]\n\nvar layout = {\n\tmapbox: {style: \&quot;stamen-terrain\&quot;, center: {lon: 40, lat: 20}, &#39;zoom&#39;: 1.5},\n\tshowlegend: false,\n\twidth:700, height: 700}\n\nPlotly.newPlot(\&quot;myDiv\&quot;, data, layout)\n&quot;}">
                <input style=" float: right; background-color:#119dff; border-radius: 4px; color: white;" class="codepen-submit" type="submit" value="Try It On CodePen!">
              </form>
              
              <div style="max-width: 100%; margin: auto" id="myDiv_2"></div>
              <script>
                var data = [{
		type: "scattermapbox",
		mode: "lines",
		fill: "toself",
		lon: [-10, -10, 8, 8, -10, null, 30, 30, 50, 50, 30, null, 100, 100, 80, 80, 100],
		lat: [30, 6, 6, 30, 30,    null, 20, 30, 30, 20, 20, null, 40, 50, 50, 40, 40]
		}]

var layout = {
	mapbox: {style: "stamen-terrain", center: {lon: 40, lat: 20}, 'zoom': 1.5},
	showlegend: false,
	width:700, height: 700}

Plotly.newPlot("myDiv_2", data, layout)

              </script>
            </div>
          
        </div>
    </div>

  
    <div class="section">
      <div class="row auto-eg-padding">
        <div class=" row twelve columns">
          <h4 id="geojson-layers">
            <a class="no_underline plot-blue" href="#geojson-layers">GeoJSON Layers</a>
          </h4>
        </div>

        <div class="row">
          <div class="twelve columns">
            
              <p>This example shows an area below <a href="https://plot.ly/javascript/reference/#choroplethmapbox-below">water layer</a>, and sets geojson object of type feature and geometries of type <a href="https://plot.ly/javascript/reference/#choroplethmapbox-geojson">MultiPolygon</a>.</p>

            
            
              <div class="z-depth-1">
                <pre><code class="plotly_js">var data = [{
    type: &quot;scattermapbox&quot;, mode: &quot;markers&quot;,
    lon: [-73.605], lat: [45.51],
    marker: { size: 20, color: [&quot;cyan&quot;] }
  }];

var layout = {
  mapbox: {
    style: &quot;dark&quot;,
    center: { lon: -73.6, lat: 45.515},
    zoom: 12, layers: [{
        source: {
          type: &quot;FeatureCollection&quot;,
          features: [{
              type: &quot;Feature&quot;,
              geometry: {
                type: &quot;MultiPolygon&quot;,
                coordinates: [[[
                      [-73.606352888, 45.507489991], [-73.606133883, 45.50687600],
                      [-73.605905904, 45.506773980], [-73.603533905, 45.505698946],
                      [-73.602475870, 45.506856969], [-73.600031904, 45.505696003],
                      [-73.599379992, 45.505389066], [-73.599119902, 45.505632008],
                      [-73.598896977, 45.505514039], [-73.598783894, 45.505617001],
                      [-73.591308727, 45.516246185], [-73.591380782, 45.516280145],
                      [-73.596778656, 45.518690062], [-73.602796770, 45.521348046],
                      [-73.612239983, 45.525564037], [-73.612422919, 45.525642061],
                      [-73.617229085, 45.527751983], [-73.617279234, 45.527774160],
                      [-73.617304713, 45.527741334], [-73.617492052, 45.527498362],
                      [-73.617533258, 45.527512253], [-73.618074188, 45.526759105],
                      [-73.618271651, 45.526500673], [-73.618446320, 45.526287943],
                      [-73.618968507, 45.525698560], [-73.619388002, 45.525216750],
                      [-73.619532966, 45.525064183], [-73.619686662, 45.524889290],
                      [-73.619787038, 45.524770086], [-73.619925742, 45.524584939],
                      [-73.619954486, 45.524557690], [-73.620122362, 45.524377961],
                      [-73.620201713, 45.524298907], [-73.620775593, 45.523650879]
                    ]]]
              }
            }]
        },
        type: &quot;fill&quot;, below: &quot;water&quot;, color: &quot;teal&quot;
      }]
  },
  height: 450, width: 700
};

var config = {mapboxAccessToken: &quot;your access token&quot;};

Plotly.newPlot(&quot;graph&quot;, data, layout, config);
</code></pre>
              </div>
            
            
          </div>
          
            <div class="twelve columns">
              
                <iframe id="auto-examples" src="https://codepen.io/plotly/embed/zYOZVWW/?height=510&theme-id=15263&default-tab=result"
                style="width: 100%; height: 550px; border: none;"></iframe>
              
            </div>
          
        </div>
    </div>



